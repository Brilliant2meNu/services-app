async function loginUser() {
  const firstName = document.getElementById("first-name").value.trim();
  const lastName = document.getElementById("last-name").value.trim();
  const password = document.getElementById("password").value.trim();
  const statusMessage = document.getElementById("status-message");

  // Clear any previous messages
  statusMessage.textContent = "";

  if (!firstName || !lastName || !password) {
    statusMessage.textContent = "Please fill in all fields.";
    statusMessage.style.color = "red";
    return;
  }

  try {
    // Validate user credentials
    const { data: user, error } = await supabase
      .from("users")
      .select("*")
      .eq("first_name", firstName)
      .eq("last_name", lastName)
      .eq("password", password)
      .single(); // Ensure only one user is returned

    if (error || !user) {
      console.error("Login failed:", error);
      statusMessage.textContent = "Invalid credentials. Please try again.";
      statusMessage.style.color = "red";
      return;
    }

    // Success
    statusMessage.textContent = `Welcome back, ${user.first_name}!`;
    statusMessage.style.color = "green";

    // Store user info (optional)
    localStorage.setItem("loggedInUser", JSON.stringify(user));

    // Redirect to dashboard
    window.location.href = "Guest_Dashboard_PROTO.html"; // Change this to your actual dashboard page

  } catch (err) {
    console.error("Unexpected error:", err);
    statusMessage.textContent = "An unexpected error occurred. Try again.";
    statusMessage.style.color = "red";
  }
}
